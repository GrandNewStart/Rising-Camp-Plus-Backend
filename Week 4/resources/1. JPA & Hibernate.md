# 1. JPA & Hibernate

## 목차
1. Spring Boot 프로젝트 생성 & H2 콘솔 설정
2. COURSE 테이블 생성
3. Spring JBDC를 이용해 COURSE 테이블 갖고놀기
4. JPA & Hibernate를 이용해 COURSE 테이블 갖고놀기
5. Spring Data JPA를 이용해 COURSE 테이블 갖고놀기

## 프로젝트 생성 & H2 콘솔 설정
프로젝트 생성은 start.spring.io 에서 다음과 같이 설정하여 생성한다.
![start.spring.io](./spring-initializr.png)
application.properties 파일에 가서 다음 설정을 입력한다.
```
(application.properties)

spring.h2.console.enabled=true
```
그리고 앱을 실행하여 localhost:8080/h2-console에 접속하면 다음과 같은 화면이 뜬다.
![h2 console](./h2-console-1.png)
IDE의 로그 창을 보면 다음과 같이 랜덤으로 생성되는 URL을 볼 수 있는데,
![h2-url-log](./h2-url-log.png)
이것을 복사해서 JDBC URL에 넣는다. 그리고 Connect를 누르면,
![h2 console](./h2-console-2.png)
다음과 같은 h2 콘솔 화면이 뜬다.
![h2 console](./h2-console-3.png)
이 화면을 자주 봐야하는데, 이 JDBC URL은 매번 랜덤하게 생성되므로 이를 고정된 값으로 설정해보자.
다시 application.properties로 돌아가 다음 줄을 추가한다. testdb라는 경로를 지정하였다.
```
(application.properties)

spring.h2.console.enabled=true
spring.datasoure.url=jdbc:h2:mem:testdb
```
이제 해당 URL을 다시 JDBC URL에 입력하면 고정된 경로로 h2 콘솔에 접속할 수 있다.

## COURSE 테이블 생성
이제 갖고놀 데이터를 만들어보자. 프로젝트 resources 아래 schema.sql이라는 파일을 생성하고 다음과 같은 SQL문을 입력한다.
```sql
create table course
(
    id bigint not null,
    name varchar(255) not null,
    author varchar(255) not null,
    primary key (id)
);
```
