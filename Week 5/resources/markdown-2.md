# 인증 & 인가

- 인증은 로그인
    - ID & PW
    - OAuth
- 인가는 권한 식별
    - 쿠키
    - 세션
    - JWT

## 쿠키

클라이언트가 어떤 웹페이지를 방문할 때, 클라이언트의 브라우저에 설치되는 기록 정보 파일. 무상태성 환경에서 기억하고자 하는 데이터를 쿠키에 담고, 다음 요청에 그 쿠키를 담아 보냄으로써 무상태를 극복.

과정

1. 로그인 요청

2. 로그인 성공, 서버는 회원정보를 담은 쿠키를 담아 응답

3. 사용자는 브라우저 저장소에 쿠키 저장

4. 사용자는 다음번 요청 시, 쿠키를 함꼐 전달

5. 서버는 쿠키를 보고 이용자를 식별
    
단점
- 보안에 취약: 개인 정보가 외부에 노출, 유출 및 조작될 가능성
- 브라우저간 공유 불가: 브라우저 마다 쿠키 지원 형태가 다르므로 호환 불가
- 용량 문제: 쿠키는 작은 정보만 담을 수 있다.
- 쿠키 사이즈: 쿠키 사이즈가 커질수록 네트워크 부하가 심해진다.

## 세션

세션은 클라이언트가 아닌 서버쪽에서 인증 정보를 관리한다. 쿠키가 외부에 노출되더라도 그 안엔 유의미한 개언정보가 없기 때문에 쿠키보다 안전하다.

과정

1. 로그인 요청

2. 로그인 성공, 서버에서 세션 ID 생성 & 저장

3. 쿠키에 세션 ID 정보를 담아 응답

4. 사용자는 브라우저 저장소에 쿠키 저장

5. 사용자는 다음번 요청 시, 쿠키를 함께 전달

6. 서버는 쿠키를 확인하여 세선 ID에 대응하는 유저를 식별함

단점
- 개인정보 직접 노출을 제외하곤 쿠키와 동일하다
- 해커가 쿠키를 탈취, 사용자인 척 할 수 있다
- 서버에 부담

## JWT(JSON Web Token)

인증에 필요한 정보들을 암호화한 토큰. JWT를 HTTP 헤더에 실어 서버가 클라이언트를 식별. 즉, JWT가 쿠키를 대체.

구조
- '.'을 구분자로 세가지 부분으로 나뉜다.
- Header: 해싱 알고리즘, 토큰 타입 정보.
- Payload: 핵심 정보. 주로 사용자의 식별자, 유효기간 등을 포함.
- Signature: Encode(Header + Payload)를 서버 비밀키로 해싱하여 생성

인가 과정

1. 

